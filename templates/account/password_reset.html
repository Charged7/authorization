<!-- templates/account/password_reset.html -->
{% extends 'base.html' %}
{% load static %}

{% block title %}Password Recovery{% endblock %}

{% block extra_css %}
    <link href="{% static 'css/password_reset.css' %}" rel="stylesheet">
{% endblock %}

{% block content %}
<section class="reset-section">
    <div class="container">
        <div class="reset-card mx-auto">
            <div class="reset-header">
                <div class="reset-icon">
                    <i class="bi bi-key"></i>
                </div>
                <h2>Forgot your password?</h2>
                <p>Enter your email and we will send you password recovery instructions</p>
            </div>

            <!-- Info block -->
            <div class="info-box">
                <p>
                    <i class="bi bi-info-circle me-2"></i>
                    The password reset link is valid for 24 hours
                </p>
            </div>

            <!-- Alert with errors -->
            {% include 'components/forms/alert.html' with show=form.errors type='danger' title='Error!' message='Check the correctness of the entered email.' %}

            <!-- Recovery form -->
            <form method="post" action="{% url 'account_reset_password' %}">
                {% csrf_token %}

                <!-- Email field -->
                {% include 'components/forms/email_field.html' with field_id='id_email' name='email' required=True error=form.email.errors.0 value=form.email.value help_text='Enter the email you used during registration' %}

                {% if redirect_field_value %}
                    <input type="hidden" name="{{ redirect_field_name }}" value="{{ redirect_field_value }}" />
                {% endif %}

                <!-- Submit button -->
                {% include 'components/forms/submit_button.html' with style='reset' icon='envelope' text='Send instructions' %}
            </form>

            <!-- Divider -->
            {% include 'components/forms/divider.html' with text='Remembered your password?' %}

            <div class="text-links">
                <a href="{% url 'account_login' %}" style="font-size: 1.1rem;">
                    <i class="bi bi-arrow-left"></i> Back to login
                </a>
            </div>

            <div class="text-links mt-3">
                <small class="text-muted">
                    Donâ€™t have an account? <a href="{% url 'account_signup' %}">Sign up</a>
                </small>
            </div>
        </div>
    </div>
</section>
{% endblock %}
