<!-- templates/account/email_confirm.html -->
{% extends 'base.html' %}
{% load static %}

{% block title %}Email Confirmation{% endblock %}

{% block extra_css %}
    <link href="{% static 'css/email_confirm.css' %}" rel="stylesheet">
{% endblock %}

{% block content %}
<section class="confirm-section">
    <div class="container">
        <div class="confirm-card mx-auto">
            {% if confirmation %}
                <div class="confirm-icon">
                    <i class="bi bi-envelope-check"></i>
                </div>

                <h2>Confirm Your Email</h2>

                <p>Please confirm that the following email address belongs to you:</p>

                <div class="email-highlight">
                    <i class="bi bi-envelope me-2"></i>{{ confirmation.email_address.email }}
                </div>

                <form method="post" action="{% url 'account_confirm_email' confirmation.key %}">
                    {% csrf_token %}
                    <button type="submit" class="btn-confirm">
                        <i class="bi bi-check-circle"></i> Confirm Email
                    </button>
                </form>
            {% else %}
                <div class="confirm-icon">
                    <i class="bi bi-x-circle text-danger"></i>
                </div>

                <h2>Invalid Link</h2>

                <p>The confirmation link is invalid or has already been used.</p>

                <a href="{% url 'account_email' %}" class="btn-confirm">
                    <i class="bi bi-arrow-left"></i> Manage Email
                </a>
            {% endif %}
        </div>
    </div>
</section>
{% endblock %}
